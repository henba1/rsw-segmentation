# WZL Research Code for Resistance Spot Welding Part of SSQC Research Project


### DatasetCreation
- input: rsw images and annotations_1.json files from the labeling process
         example expected directory structure:
         |data preprocessing
         |data
          |Ford_Tessonics_Europe_Lab_Data_1
          |Ford_Tessonics_Europe_Lab_Data_2
          |Ford_Tessonics_Europe_Lab_Data_...
          |lab_rsw_segmentation_1
           |images
            |raw_image_8259
            |...
           |annotations_1.json
          |lab_rsw_segmentation_2
          |lab_rsw_segmentation_..

- output: an ndarray that is stored in an all_images_data_"name_of_dataset".npy  containing the following data and that can be accessed as follows (example):

          img_data[0-x] - img_data from a specific data set as indicated by the .npy file's name (dataset level)
          img_data[0][0] - first data entry of the first dataset 
          img_data[0][0][0] - original rsw image of the first data entry of the first data set
          img_data[0][0][1] - mask-overlayed rsw image of the first data entry of the first data set
          img_data[0][0][2] - file name of rsw image of the first data entry of the first data set
          img_data[0][0][3] - file name of mask file used in the overlay of the first data entry of the first data set
          img_data[0][0][4] - relative path to the dataset name (same for all entries in the same data set)
          img_data[0][0][5] - polygon points defining the mask used in the overlay of the first data entry of the first data set (from annotation)
          img_data[0][0][6] - classID from the annotation file entry corresponding to this data point
          img_data[0][0][6] - classID from the annotation file entry corresponding to this data point
          img_data[0][0][7] - annotation state from the annotation file entry corresponding to this data point
          img_data[0][0][8] - tuple of image dimensions (height, width) of the rsw image

        
          the .npy file is stored on the same level as the data_preprocessing.ipynb

### model research
- input: .npy file generated by data preprocessing and loaded as follows:
         img_data = np.load('all_images_data_lab.npy', allow_pickle=True)

- output: Classification of image areas and corresponding masks as predicted by the different models
